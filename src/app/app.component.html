<header>
  <div class="logo"> <a href="#">LOJA VIRTUAL</a></div>
  <div class="search-bar">
    <input type="text" placeholder="Buscar produtos...">
    <i class="fas fa-search dropbtn"></i>
  </div>
  <div class="icons">
    <a href="/carrinho"><i class="fas fa-shopping-cart"></i></a>

    <!-- Se NAO estiver logado: icone redireciona para login -->
    <a *ngIf="!authService.isLoggedIn()" href="/login" class="user-icon">
      <i class="fas fa-user"></i>
    </a>

    <!-- Se estiver logado: exibe dropdown com opcoes -->
    <div *ngIf="authService.isLoggedIn()" class="dropdown">
      <i class="fas fa-user dropbtn"></i>
      <div class="dropdown-content">
        <span class="user-name">Ola, {{ authService.getUser()?.nome || 'Usuario' }}</span>
        <hr>
        <a href="/produtos/listar">Cadastro de Produtos</a>
        <a href="/categorias/listar">Cadastro de Categorias</a>
        <a href="/usuarios/listar">Cadastro de Usuarios</a>
        <a href="#">Meus Pedidos</a>
        <hr>
        <a (click)="logout()" class="logout-link">Sair</a>
      </div>
    </div>

    <!-- Icone de logout visivel quando logado -->
    <i *ngIf="authService.isLoggedIn()" class="fas fa-sign-out-alt" (click)="logout()" style="cursor: pointer;"></i>
  </div>
</header>

<main>
  <aside class="sidebar-esquerda">
    <div class="categorias">
      <h3>DEPARTAMENTOS</h3>
      <ul>
        <li>Eletrônicos</li>
        <li>Roupas</li>
        <li>Calçados</li>
        <li>Acessórios</li>
      </ul>
    </div>
  </aside>
  <router-outlet></router-outlet>
</main>